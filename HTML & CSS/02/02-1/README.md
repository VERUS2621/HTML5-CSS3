# 미디어 쿼리 이해

미디어 쿼리란?

미디어 쿼리(Media Queries)는 CSS3 모듈 중 하나로 사이트에 접속하는 장치에 따라 특정한 CSS 스타일을 사용하도록 해줌.

미디어 쿼리를 사용하면 접속하는 기기의 화면 크기에 따라 레이아웃이 달라짐.

-> 사용자가 어떤 미디어를 사용하는 가에 따라 / 사이트의 형태가 바뀜

## 미디어 쿼리 구문

**기본형** `@media [only | not] 미디어 유형 [and 조건] * [and 조건]`

미디어 쿼리 구문은 `<style>`과 `</style>` 사이에 사용하며 대/소문자를 구별하지 않음.

기본적으로 미디어 유형이 지정되어야 하고 필요할 경우, and 연산자로 조건을 적용

예를 들어 미디어 유형이 'screen' 이면서 최소 너비가 200px 이고 최대 너비가 360px 일 경우 CSS를 정의하는 구문

```css
@media screen and (min-width:200px) anx (max-width:360px) {
    .......
}
```

and : 앞의 소스처럼 조건을 계속 추가할 수 있음
,(쉼표) : 동일한 스타일 유형을 사용할 미디어의 유형과 조건이 있다면 쉼표를 이용해 추가
only : 미디어 쿼리를 지원하는 웹 브라우저에서만 조건을 인식. 이 키워드를 사용하면 미디어 쿼리를 지원하지 않는 웹 브라우저에서는 미디어 쿼리를 무시하고 실행하지 않음.
not : not 다음에 지정하는 미디어 유형을 제외함. 예를 들어 `not tv` 라고 지정한다면 TV를 제외한 미디어 유형에만 적용

### 미디어 유형의 종류

| 미디어 유형 | 사용 가능한 미디어 |
| all | 모든 미디어 유형 |
| print | 인쇄 장치 |
| screen | 컴퓨터 스크린(스마트폰 스크린 포함) |
| tv | 음성과 영상이 동시 출력되는 TV |
| aural | 음성 합성 장치(주로 화면을 읽어 소리로 출력해 주는 장치) |
| braille | 점자 표시 장치 |
| handheld | 패드(pad)처럼 손에 들고 다니는 장치 |
| projection | 프로젝터 |
| tty | 디스플레이 기능이 제한된 장치(픽셀(px) 단위를 사용할 수 없음) |
| embossed | 점자 프린터 |

## 미디어 쿼리의 조건

미디어 쿼린느 특정 조건에 따라 적용할 CSS를 다르게 정의하므로 조건을 어떻게 체크할 것인지가 중요함.

### 웹 문서의 가로 너비와 세로 높이

실제 웹 문서의 내용이 화면에 보이는 영역을 뷰포트라 하는데
뷰포트의 `너비와 높이`를 미디어 쿼리의 조건으로 사용할 수 있음.

이때 height(높이) 값은 미디어에 따라 달라지기 때문에 주의해야 함.

| 가로, 세로 값 설정하는 속성 | 설명 |
| width, height | 웹 페이지의 가로 너비, 세로 높이 |
| min-width, min-height | 최소 너비, 최소 높이 |
| max-width, max-height | 최대 너비, 최대 높이 |

### 단말기의 가로 너비와 세로 높이

단말기 너비나 높이를 고려해 미디어 쿼리를 작성

| 가로, 세로 값 설정하는 속성 | 설명 |
| device-width, device-height | 단말기의 가로 너비, 세로 높이 |
| min-device-width, min-device-height | 단말기의 최소 너비, 최소 높이 |
| max-device-width, max-device-height | 단말기의 최대 너비, 최대 높이 |

### 화면 회전

| 속성 | 설명 |
| orirentation: portrait | 단말기 세로 방향 |
| orirentation: landspace | 단말기 가로 방향 |

### 화면 비율, 단말기의 물리적 화면 비율

화면 비율은 뷰포트, 즉 단말기 브라우저 화면의 너비 값(width)을 높이 값(height)으로 나눈 것으로 숫자 값이나 계산식을 사용할 수 있음.

| 속성 | 설명 |
| aspect-ratio | 화면 비율 (width 값 / height 값) |
| min-aspect-ratio | 최소 화면 비율 |
| max-aspect-ratio | 최대 화면 비율 |

반면, 단말기 화면 비율은 단말기의 너비 값과 높이값을 이용해 계산

| 속성 | 설명 |
| device-aspect-ratio | 단말기 화면 비율 (width 값 / height 값) |
| min-device-aspect-ratio | 단말기 최소 화면 비율 |
| max-device-aspect-ratio | 단말기 최대 화면 비율 |

### 색상당 비트

단말기에서 사용하는 최대 색상 비트 수를 미디어 쿼리 조건으로 사용할 수 있음

비트(bit) 단위는 설명하지 않음

| 속성 값 | 설명 |
| ------- | ---- |
| color | 비트 수 |
| min-color | 최소 비트 수 |
| max-color | 최대 비트 수 |

미디어가 컬러 색상을 지원하지 않는다면 `color:0`으로 지정

[미디어 쿼리 조건](https://www.w3.org/TR/css3-mediaqueries/)

### 미디어 쿼리 중단점 만들기

미디어 쿼리를 작성할 때 서로 다른 CSS를 적용할 화면 크기를 중단점(break point)라고 함.
이 중단점을 어떻게 지정하는가에 따라 CSS가 달라지고 화면 레이아웃이 바뀌는데 대부분 **기기의 화면 크기를 기준**으로 함.

하지만 시중의 모든 기기들을 반영할수는 없기 때문에 모바일 기기와 태블릿, 데스크톱 정도로만 구분하는 것이 좋음
그리고 처리 속도나 화면 크기 등에서 다른 기기보다 모바일 기기의 제약 조건이 더 많기 때문에
모바일 기기의 레이아웃을기본으로 해 CSS를 만듬(모바이리 기기의 CSS는 태블릿과 데스크톱에도 기본적으로 사용)

이렇게 모바일을 먼저 고려해 미디어 쿼리를 작성하는 것을 **모바일 퍼스트(mobile first)** 라고 함

참고로 CSS 프레임워크인 부트스트랩(Bootstrap)과 쇼핑몰 개발 플랫폼인 마젠토는 다음과 같은 중단점을 사용함.

|     | 아주 작은 화면 | 작은 화면 | 중간 화면 | 큰 화면 | 아주 큰 화면 |
|-----|---------------|----------|----------|---------|-------------|
| 부트스트랩 | 576px 미만 | 576px 이상 | 768px 이상 | 992px 이상 | 1200px 이상 |
| 마젠토 | 640px 미만 | 640px 이상 | 768px 이상 | 1024px 이상 | 1440px 이상 |