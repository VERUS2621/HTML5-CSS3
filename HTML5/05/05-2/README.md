# 오디오 & 비디오 재생하기

## `<audio>` - 오디오 파일 삽입하기

일반적으로 대부분의 브라우저에서 가능하면 `mp3` 파일을 삽입하며 `ogg(또는 oga) 파일은 함꼐 지정하지 않는 경우가 많음.

**기본형** `<audio src="오디오 파일 경로" [속성 = "속성 값"]></audio>`

autoplay :  오디오를 자동 재생
controls : 웹 화면에 컨트롤 막대를 표시함 / 컨트롤 막대에는 [재생, 멈춤, 진행바, 볼륨 등] 이 표시됨. 
loop : 오디오 반복 재생
muted : 오디오 재생해 진행하지만 소리는 끔
preload : 재생 버튼을 눌러 재생하기 전에 오디오 파일을 다운로드해 준비해 둠.

## `<video>` - 비디오 파일 삽입하기

**기본형** `<video src="비디오 파일 경로" [속성][속성="속성값"]></video>`

## `<source>` - 여러 미디어 파일 한꺼번에 저장하기

앞에서 설명한 것처럼 브라우저에 따라 지원하는 오디오 코덱이나 비디오 코덱이 다르기 때문에 한 가지 파일만 사용했을 경우, 일부 오래된 브라우저에서는 지원하지 않을 수 있음.

따라서 사용자들의 브라우저 환경을 모두 고려한다면 최신 브라우저와 이전 브라우저에서 모두 재생할 수 있도록 ogv 파일도 함께 지정해주어야 함.

`<source>` 태그에는 미디어 파일의 경로를 지정하는 `src` 속성과 미디어 파일의 형식을 알려주는 `type` 속성을 사용함. `codecs` 속성을 이용해 코덱까지 표시할 수 있음

`<source src="viedo.ogv" type="video/ogg; codecs='theora,vorbis'">`

src : 미디어 파일의 경로를 지정하는 필수 속성으로 경로를 지정할 때는 경로에 공백이 있으면 안됨.
type : 웹 브라우저가 해당 미디어 파일을 재생할 수 있는지 여부를 확인할 수 있도록 미디어 파일의 유형을 알려 줌.
codecs : 비디오 코덱을 지정.

### 이전 브라우저에서는 어떻게 할까?

`<video>` 태그를 지원하지 않ㄴ느 이전 브라우저를 고려해 다음과 같이 HTML5 지원 브라우저가 필요하다는 대체 텍스트를 표시할 수 있음.

```html5
<viedo controls>
    <source src="" type="">
    <source src="" type="">
    <source src="" type="">
    이 영상을 보기 위해서는 HTML5를 지원하는 브라우저가 필요합니다.
</video>
```
`<viedo>` 태그 안에서 세가지 `<source>` 태그나 대체 텍스트 중 하나가 실행되면 나머지는 실행되지 않음.

## `<audio>` `<video>` 태그의 속성

1. width, height - 비디오 크기 조절
width와 height 값 하나만 지정하면 나머지는 자동으로 계산해서 표시됨.

2. controls - 컨트롤 막대 표시

속성값은 따로 없으며 `controls` 라는 속성만 입력하면 됨.

3. preload 속성 - 파일 다운로드 여부

| 속성 값 | 설명 |
| ------- | --- |
| none | 미디어 파일을 미리 다운로드하지 않고 사용자가 재생 버튼을 눌러야만 다운로드하기 시작함. |
| metadata | 미디어 파일을 즉시 사용하지 않을 것이라고 생각해 미디어 파일 전체를 다운로드 하지 않고 메타 정보만 다운로드 함 |
| auto | 사용자가 즉시 이용할 수 있도록 웹 문서를 로드할 때 미디어 파일도 모두 다운로드 함. 다만, 다운로드가 끝나도 사용자가 재생 버튼을 눌러야만 재생됨(기본값) |

4. muted - 소리는 끄고 재생
5. autoplay - 자동재생
6. loop - 반복 재생
7. poster - 문제 상황 표시
- 브라우저 문제나 인터넷 문제 등 비디오를 재생할 수 없을 경우, 비디오 화면 자리에 대신 표시하는 이미지를 '포스트 이미지'라고 부름

## `<track>` - 비디오 화면에 자막 추가
- 외부 자막 파일을 연결할 수 있음

**기본형** `<track kind="자막 종류" src="경로" srclang="언어" label="제목" defalult>`

1. kind - 자막의 종류를 지정함. 생략할 경우 subtitles 로 간주

| 속성 값 | 설명 |
| ------- | --- |
| subtitles | 자막 |
| captions | 캡션 |
| descriptions | 비디오 콘텐츠에 대한 설명 / 화면에는 표시되지 않음 |
| chapters | 비디오 탐색을 위한 장 제목 / 화면에는 표시되지 않음 |
| metadata | 비디오 콘텐츠 정보 / 화면에는 표시되지 않음 |

2. src - 자막 텍트의 파일 경로 지정
3. srclang - 사용할 언어를 지정(kind="subtitles" 라면 반드시 설정)
en, ko 처럼 약자로 표현

4. label - 자막이 여러 개일 경우, 자막을 식별할 수 있도록 제목을 달아 줌
5. default - 자막 파일 여러 개일 경우, 기본으로 사용할 자막을 default로 지정할 수 있음

### WebVTT 자막 파일

보통 컴퓨터에서 외국어로 된 영화나 드라마를 재생할 때 사용하는 자막 파일은 smi 파일이나 srt 파일

smi 파일은 자막 내용만 들어 있는 반면 / `srt` 파일에는 자막의 시작 시간과 종료 시간 같은 시간 정보가 함께 들어 있음
모든 브라우저에서 공식적으로 지원하는 자막 파일 형식은 WebVTT(웹 비디오 트랙, Web Video Text Track) 형식
파일 확장자는 `.vtt`

vtt 파일은 메모장이나 노드패드++ 같은 텍스트 편집기에 입력한 후 .vtt 파일로 저장해 사용하면 됨.

**기본형**

```vtt
시작 시간 -> 종료 시간
자막

00:00:000 --> 00:02.172
안녕하세요
```

자막의 시작 시간과 종료 시간은 "HH:MM:SS.ttt" 형식으로 표시함.


